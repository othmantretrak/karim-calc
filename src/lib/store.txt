// lib/store.ts
import { create } from 'zustand'

interface StoreState {
  productSlug: string | null
  answers: Record<string, string | number>
  setProductSlug: (slug: string) => void
  setAnswer: (key: string, value: string | number) => void
  resetAnswers: () => void
}

const useStore = create<StoreState>((set) => ({
  productSlug: null,
  answers: {},
  setProductSlug: (slug) => set({ productSlug: slug, answers: {} }),
  setAnswer: (key, value) =>
    set((state) => ({
      answers: { ...state.answers, [key]: value }
    })),
  resetAnswers: () => set({ answers: {} }),
}))

export default useStore